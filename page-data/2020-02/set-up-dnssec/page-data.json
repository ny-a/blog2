{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2020-02/set-up-dnssec/","result":{"data":{"site":{"siteMetadata":{"title":"Blog"}},"markdownRemark":{"id":"6480677a-be54-58b1-8789-aae2bf8cee6a","excerpt":"クライアント側もドメイン側も、設定するだけで DNSSEC が使える状態になっていたので、両方とも設定して\nDNSSEC を有効にしてみました。 クライアント設定 DNS リゾルバは  を使っているので、 DNSSEC 対応の DNS サーバーが使われていれば DNSSEC が有効になります。\n や  は DNSSEC…","html":"<p>クライアント側もドメイン側も、設定するだけで DNSSEC が使える状態になっていたので、両方とも設定して\nDNSSEC を有効にしてみました。</p>\n<h2>クライアント設定</h2>\n<p>DNS リゾルバは <code class=\"language-text\">systemd-resolved</code> を使っているので、 DNSSEC 対応の DNS サーバーが使われていれば DNSSEC が有効になります。\n<code class=\"language-text\">1.1.1.1</code> や <code class=\"language-text\">8.8.8.8</code> は DNSSEC に対応しています。\nしかし、ルーターなどが提供するリゾルバは対応していないことが多いので、それをデフォルトで使っていて無効になっていました。\n<code class=\"language-text\">1.1.1.1</code> を直接使うように設定するには、 <code class=\"language-text\">/etc/systemd/resolved.conf</code> に以下の行を追加します。</p>\n<p><code class=\"language-text\">DNS=1.1.1.1</code></p>\n<p>あとは <code class=\"language-text\">sudo systemctl restart systemd-resolve</code> を実行して、 <code class=\"language-text\">systemd-resolved</code> サービスを再起動すれば有効になります。</p>\n<p>有効になっていれば、 <code class=\"language-text\">resolvectl query sigfail.verteiltesysteme.net</code> を実行すると <code class=\"language-text\">invalid</code> とエラーが出るはずです。</p>\n<h2>ドメインの設定</h2>\n<p><a href=\"https://hnw.hatenablog.com/entry/20160321\">DNSSEC対応の独自ドメインを年額$0.88で運用できるよという話</a>\nを見ると、海外のレジストラは DNSSEC に対応しているところが多いようです。\n私の使っている <code class=\"language-text\">nyaw.dev</code> は Gandi で取得したため、ボタン1つで有効化することができました。</p>\n<p><a href=\"https://dnsviz.net/d/nyaw.dev/dnssec/\">nyaw.dev - dnsviz</a>\nを確認すると、正常に設定されていることが確認できます。</p>\n<p>といっても、リダイレクトさせているのであんまり嬉しくはないんですが……。</p>\n<p>ブログだけではなくポートフォリオも含めてページを充実させていって、ドメイン設定もきちんとしていこうと思っています。</p>","frontmatter":{"title":"DNSSECの設定をしました","date":"February 27, 2020"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"2020-02/set-up-dnssec/","previous":{"fields":{"slug":"2020-02/virtual-heads-of-xf86-video-intel/"},"frontmatter":{"title":"Xorgの仮想ディスプレイについて調べました"}},"next":null}}}