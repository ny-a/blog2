{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2021-06/rtty-4/","result":{"data":{"site":{"siteMetadata":{"title":"Blog"}},"markdownRemark":{"id":"26f0427c-ae5a-5a20-b8eb-f6d1af1ae9e0","excerpt":"プログラムでの文字へのデコードを試す前に、サンプリングレートが 8kHz、\n量子化ビット数が 8bit の unsigned な wave ファイルという制約を\nなんとか取り払えないか試してみます。 まず、サンプリングレートは簡単で、変数に入っている数値を変更するだけで\n問題なさそうです。が、windowsize…","html":"<p>プログラムでの文字へのデコードを試す前に、サンプリングレートが 8kHz、\n量子化ビット数が 8bit の unsigned な wave ファイルという制約を\nなんとか取り払えないか試してみます。</p>\n<p>まず、サンプリングレートは簡単で、変数に入っている数値を変更するだけで\n問題なさそうです。が、window<em>size も同じ比率で変更してあげないと、\n出力に差が出てくるようです。\n同じ比率を保つために、window</em>size はサンプリングレートの250分の1に\nして、出力が変化しないようにします。</p>\n<p>ちなみに、サンプリングレートは wave モジュールで取得できるようです。\nわざわざ変更するのも面倒なので、取得するようにしましょう。</p>\n<p>また、unsigned を仮定しているのは、フレームの値から 128 を引いている\n部分のようです。(量子化ビット数も関係ありますが。)</p>\n<p>量子化ビット数を変更できるようにするには、今のフレーム(バイナリ)の\n0番目の値のみを見ている所を変更する必要がありそうです。\nPython の<a href=\"https://docs.python.org/3/library/stdtypes.html\">Built-in Types</a> の、\n<a href=\"https://docs.python.org/3/library/stdtypes.html#int.from_bytes\">int.from_bytes</a> を\n使えばよさそうです。\nunsigned の制約も外すために、128 を引いている部分もビット数から計算して\n引くように変更します。unsigned 8bit のときに -128 なのは、u8 が [0, 255] で、\nその半分を引いて [-128, 127] にするためですね。同様に、unsigned 16bit であれば\n-(2^15) してあげればいいですね。signed であれば何も引きません。一般化すると、\nn bit のとき、signed であれば -0、unsigned であれば -(2^(n-1)) ということに\nなります。</p>\n<p>あとは愚直に実装して、<a href=\"https://github.com/ny-a/rtty/tree/improve-ny-a\">ny-a/RTTY - GitHub</a> に\npush すれば完了です。</p>","frontmatter":{"title":"RTTY のデコードを試す(4)","date":"June 09, 2021"}}},"pageContext":{"slug":"2021-06/rtty-4/","previous":{"fields":{"slug":"2021-06/github-profile-metrics/"},"frontmatter":{"title":"GitHubのプロファイルをカスタマイズ"}},"next":null}}}