{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2020-03/uncomment-mirrorlist-by-sed/","result":{"data":{"site":{"siteMetadata":{"title":"Blog"}},"markdownRemark":{"id":"c8afef22-415f-5fc1-88d9-dd7088c48b10","excerpt":"タイトルの通りで、 Arch Linux の Docker イメージを AUR のビルド用にしたくて、 multilib を使う必要があったので方法を\n探してみました。 まず試したのは patch だったのですが、初期インストール状態に含まれていないため、あまり慣れていない sed…","html":"<p>タイトルの通りで、 Arch Linux の Docker イメージを AUR のビルド用にしたくて、 multilib を使う必要があったので方法を\n探してみました。</p>\n<p>まず試したのは patch だったのですが、初期インストール状態に含まれていないため、あまり慣れていない sed を使うことに\nしました。\n調べてみると\n<a href=\"https://unix.stackexchange.com/a/285162\">How to edit next line after pattern using sed? - StackExchange</a>\nにちょうど ArchLinux 用の(こちらは mirrorlist の方ですが)回答がありました。\nmultilib レポジトリの有効化用に変更したコマンドは以下の通りです。</p>\n<div class=\"gatsby-highlight\" data-language=\"shellscript\"><pre class=\"language-shellscript\"><code class=\"language-shellscript\">sed -e &#39;/\\[multilib\\]/,/^$/{s/^#//}&#39; /etc/pacman.conf</code></pre></div>\n<p>元のコマンド <code class=\"language-text\">/\\[multilib\\]/,/^$/{//!s/^#//}</code> には <code class=\"language-text\">//!</code> が入っていて、これで1行目を無視しているようなのですが、\nこれがどう動くのかは勉強不足で分かっていません……</p>\n<p>とりあえず sed で思ったよりいろんなことができることが分かりました。</p>","frontmatter":{"title":"Pacman の multilib を sed で有効化する","date":"March 29, 2020"}}},"pageContext":{"slug":"2020-03/uncomment-mirrorlist-by-sed/","previous":{"fields":{"slug":"2020-03/build-xorg-server/"},"frontmatter":{"title":"Xorg-server のビルドが思ったより楽で驚きました"}},"next":{"fields":{"slug":"2020-03/ping-pe/"},"frontmatter":{"title":"分散したロケーションから ping や dig をできるサイト"}}}}}