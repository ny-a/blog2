{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2020-05/run-chromium-in-docker/","result":{"data":{"site":{"siteMetadata":{"title":"Blog"}},"markdownRemark":{"id":"5d4fcd39-9cb2-5f7f-a69b-f34e240d5da6","excerpt":"前は Firefox でやりましたが、Chromium はサンドボックスがあったりして\n前のままのコマンドでは動いていませんでした。 以下のコマンドで動きました。といっても  を追加しただけですが。\n なしでも  をつけて chromium…","html":"<p>前は Firefox でやりましたが、Chromium はサンドボックスがあったりして\n前のままのコマンドでは動いていませんでした。</p>\n<p>以下のコマンドで動きました。といっても <code class=\"language-text\">--privileged</code> を追加しただけですが。\n<code class=\"language-text\">--privileged</code> なしでも <code class=\"language-text\">--no-sandbox</code> をつけて chromium を起動すれば\n一応ウィンドウまでは出るのですが、グラフィックドライバがうまく\n読み込まれずに真っ白のままになってしまうという問題がありました。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo docker run --rm \\\n  -v /tmp/.X11-unix \\\n  -v ~/.Xauthority:/home/user/.Xauthority \\\n  -e DISPLAY \\\n  -e XAUTHORITY=/home/user/.Xauthority \\\n  --net host \\\n  --privileged \\\n  archlinux \\\n  sh -c &#39;pacman -Syu --noconfirm chromium; useradd user; chown user:user /home/user; su user chromium&#39;</code></pre></div>\n<p>もう少し <code class=\"language-text\">--cap-add</code> などで Capability を絞ってもいけそうですね。</p>\n<p>Firefox に比べれば安定しているかなという印象ですが、やはり\nYouTube などを FullHD で視聴しようとするとタブがクラッシュしてしまうので、\n実用には厳しいかなという印象でした。</p>\n<p>わざわざ Docker 内で起動しなくても、psd なんかで毎回リセットするように\nしてあげればほぼ同じことが実現できるんですけどね……。</p>","frontmatter":{"title":"Chromium の GUI を docker コンテナ内で実行する","date":"May 17, 2020"}}},"pageContext":{"slug":"2020-05/run-chromium-in-docker/","previous":{"fields":{"slug":"2020-05/bought-mother-1-2/"},"frontmatter":{"title":"MOTHER 1+2 を買いました"}},"next":null}}}